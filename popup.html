<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title data-i18n="appName">Steam Market Helper ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</title>
  <link rel="stylesheet" href="styles.css" />
  
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ Fugaz One –¥–ª—è –≥–ª–∏—Ç—á-—ç—Ñ—Ñ–µ–∫—Ç–∞ -->
  <link href="https://fonts.googleapis.com/css2?family=Fugaz+One&display=swap" rel="stylesheet">
</head>
<body class="popup-extension">
  <header class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
      <h1 class="brand glitch-title" data-i18n="appName" data-text="Steam Market Helper">Steam Market Helper</h1>
      <select id="languageSelect" style="width: auto; padding: 4px 8px; font-size: 12px; margin-left: 10px;">
        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
        <option value="en">üá¨üáß English</option>
      </select>
    </div>
    <button id="toggleHistoryBtn" class="primary" type="button" data-i18n="openHistory">üìú –û—Ç–∫—Ä—ã—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
    <p class="muted" data-i18n="description">–î–æ–±–∞–≤–ª—è–π –ø–æ–∫—É–ø–∫–∏, –ø–æ—Ç–æ–º —É–∫–∞–∑—ã–≤–∞–π —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏–ª –Ω–∞ —Ä—É–∫–∏ ‚Äî –ø—Ä–∏–±—ã–ª—å –ø–æ—Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
  </header>

  <main class="container">
    <section class="card form-card">
      <h2 data-i18n="addPurchase">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∫—É</h2>

      <div class="form-grid">
        <label>
          <span data-i18n="itemName">üì¶ –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞</span>
          <input id="itemName" type="text" data-i18n-placeholder="itemPlaceholder" placeholder="–ù–∞–ø—Ä. Case Revolution" />
        </label>

        <label>
          <span data-i18n="buyPrice">üí∞ –¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏</span>
          <input id="buyPrice" type="number" inputmode="decimal" step="0.01" min="0" placeholder="0.00" />
          <small class="hint" data-i18n-hint="buyPriceHint">–£–∫–∞–∂–∏—Ç–µ 0 –µ—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–ª—É—á–µ–Ω –±–µ—Å–ø–ª–∞—Ç–Ω–æ</small>
        </label>

        <label>
          <span data-i18n="quantity">üî¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</span>
          <input id="itemQuantity" type="number" inputmode="numeric" step="1" min="1" value="1" placeholder="1" />
          <small class="hint" data-i18n-hint="quantityHint">–°–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∫—É–ø–ª–µ–Ω–æ</small>
        </label>

        <label class="currency-label full-width">
          <span data-i18n="currency">üí± –í–∞–ª—é—Ç–∞</span>
          <input type="hidden" id="currency" value="UAH" />
          <div class="cselect" id="currencySelect">
            <button class="cselect-btn" id="currencyBtn" type="button" aria-haspopup="listbox" aria-expanded="false">
              <span class="cselect-label" id="currencyBtnLabel">‚Ç¥ UAH</span>
              <span class="cselect-chev" aria-hidden="true">‚ñæ</span>
            </button>
            <div class="cselect-menu hidden" id="currencyMenu" role="listbox" tabindex="-1">
              <button class="cselect-item" type="button" data-currency="UAH">‚Ç¥ UAH</button>
              <button class="cselect-item" type="button" data-currency="RUB">‚ÇΩ RUB</button>
              <button class="cselect-item" type="button" data-currency="USD">$ USD</button>
              <button class="cselect-item" type="button" data-currency="EUR">‚Ç¨ EUR</button>
              <button class="cselect-item" type="button" data-currency="KZT">‚Ç∏ KZT</button>
              <button class="cselect-item" type="button" data-currency="PLN">z≈Ç PLN</button>
            </div>
          </div>
          <small class="hint" data-i18n-hint="currencyHint">–í–∞–ª—é—Ç–∞ –≤–ª–∏—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ</small>
          <small class="hint sync-note" data-i18n-hint="syncNote">‚òÅÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Chrome</small>
        </label>
      </div>

      <div class="actions">
        <button id="addBtn" type="button" data-i18n="addPurchase">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∫—É</button>
        <button id="clearBtn" class="danger ghost" type="button" data-i18n="resetFields">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–ª—è</button>
      </div>
      
      <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–Ω–∞—Ç–∞ -->
      <button id="donateBtn" class="secondary" type="button" style="margin-top: 12px; width: 100%;" data-i18n="donate">
        ‚ù§Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
      </button>
    </section>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–¥–∞–∂–∏ -->
  <div id="sellModal" class="modal hidden">
    <div class="modal-content">
      <h3 data-i18n="sellTitle">üí∞ –ü—Ä–æ–¥–∞–∂–∞ –ø—Ä–µ–¥–º–µ—Ç–∞</h3>
      <p id="sellItemLabel"></p>
      
      <label>
        <span data-i18n="sellPrice">üè∑Ô∏è –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏</span>
        <input id="sellModalPrice" type="number" step="0.01" min="0" placeholder="0.00" required>
        <small class="hint" data-i18n-hint="sellPriceHint">–£–∫–∞–∂–∏—Ç–µ —Ü–µ–Ω—É, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–∞–ª–∏ –ø—Ä–µ–¥–º–µ—Ç</small>
      </label>
      
      <label>
        <span data-i18n="receivedAmount">üíµ –°–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏–ª –Ω–∞ —Ä—É–∫–∏ *</span>
        <input id="sellModalReceived" type="number" step="0.01" min="0" placeholder="0.00" required>
        <small class="hint" data-i18n-hint="receivedHint">–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—É–º–º–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</small>
      </label>
      
      <div class="fee-calculated">
        <div class="fee-row">
          <span data-i18n="feeAmount">–°—É–º–º–∞ –∫–æ–º–∏—Å—Å–∏–∏:</span>
          <span id="calculatedFeeAmount" class="fee-value">‚Äî</span>
        </div>
        <div class="fee-row">
          <span data-i18n="feePercent">–ü—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏:</span>
          <span id="calculatedFeePercent" class="fee-value">‚Äî</span>
        </div>
        <small class="hint" data-i18n="feeCalculated">üìä –ö–æ–º–∏—Å—Å–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</small>
      </div>
      
      <div class="row-actions">
        <button id="sellConfirm" class="primary" data-i18n="confirmSell">‚úÖ –ü—Ä–æ–¥–∞—Ç—å</button>
        <button id="sellCancel" data-i18n="cancel">‚ùå –û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–Ω–∞—Ç–æ–≤ -->
  <div id="donateModal" class="modal hidden">
    <div class="modal-content" style="width: 400px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h3 style="margin: 0;" data-i18n="donateTitle">‚ù§Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</h3>
        <button class="close-btn" style="background: none; border: none; font-size: 20px; cursor: pointer; padding: 0 5px;">&times;</button>
      </div>
      
      <p style="margin-bottom: 15px; color: var(--muted);" data-i18n="donateDescription">
        –ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –≤–∞–º –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏–µ. –õ—é–±–∞—è –ø–æ–º–æ—â—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è!
      </p>
      
      <div style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px;">
        <!-- PayPal -->
        <a href="https://www.paypal.com/donate/?hosted_button_id=YOUR_ID" 
           target="_blank" 
           class="donate-button" 
           style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(0,0,0,0.2); border-radius: 8px; text-decoration: none; color: var(--text);">
          <span style="font-size: 24px;">üí∏</span>
          <div style="flex: 1;">
            <strong data-i18n="donatePaypal">PayPal</strong>
            <div style="font-size: 12px; color: var(--muted);" data-i18n="donatePaypalDesc">–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥ –∫–∞—Ä—Ç–æ–π –∏–ª–∏ —Å–æ —Å—á—ë—Ç–∞</div>
          </div>
          <span style="color: var(--muted);">‚Üí</span>
        </a>
        
        <!-- Buymeacoffee -->
        <a href="https://www.buymeacoffee.com/yourusername" 
           target="_blank" 
           class="donate-button" 
           style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(0,0,0,0.2); border-radius: 8px; text-decoration: none; color: var(--text);">
          <span style="font-size: 24px;">‚òï</span>
          <div style="flex: 1;">
            <strong data-i18n="donateCoffee">Buy me a coffee</strong>
            <div style="font-size: 12px; color: var(--muted);" data-i18n="donateCoffeeDesc">–†–∞–∑–æ–≤–æ–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ</div>
          </div>
          <span style="color: var(--muted);">‚Üí</span>
        </a>
        
        <!-- Patreon -->
        <a href="https://www.patreon.com/yourusername" 
           target="_blank" 
           class="donate-button" 
           style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(0,0,0,0.2); border-radius: 8px; text-decoration: none; color: var(--text);">
          <span style="font-size: 24px;">üé≠</span>
          <div style="flex: 1;">
            <strong data-i18n="donatePatreon">Patreon</strong>
            <div style="font-size: 12px; color: var(--muted);" data-i18n="donatePatreonDesc">–†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
          </div>
          <span style="color: var(--muted);">‚Üí</span>
        </a>
        
        <!-- –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ -->
        <a href="#" 
           onclick="alert('BTC: bc1q...\nETH: 0x...'); return false;" 
           class="donate-button" 
           style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(0,0,0,0.2); border-radius: 8px; text-decoration: none; color: var(--text);">
          <span style="font-size: 24px;">‚Çø</span>
          <div style="flex: 1;">
            <strong data-i18n="donateCrypto">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞</strong>
            <div style="font-size: 12px; color: var(--muted);" data-i18n="donateCryptoDesc">BTC, ETH, USDT</div>
          </div>
          <span style="color: var(--muted);">‚Üí</span>
        </a>
      </div>
      
      <p style="font-size: 11px; color: var(--muted); text-align: center;" data-i18n="donateThanks">
        –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º! ‚ù§Ô∏è
      </p>
    </div>
  </div>

  <script src="./app.js" defer></script>
</body>
</html>